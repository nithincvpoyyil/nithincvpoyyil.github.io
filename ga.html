<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=11; IE=EmulateIE11">
    <title>Analytics</title>
    <!-- Google Analytics -->
      <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-112923553-2', 'auto');
      ga('send', 'pageview');
      </script>
  <!-- End Google Analytics -->
    
</head>

<body>
    <div ng-controller="DemoCtrl as demo">
        <button class="" ng-click="demo.signinLinkedIn()">Send Data</button>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
    <script>
        var myApp = angular.module("jsbin", []);
        myApp.controller("DemoCtrl", function ($scope, $window, $http) {
            
            this.isLogin = false;
            
            var fun1 = () => {
                    ga('send','event',{
                     'eventCategory':'Click',
                     'eventAction':'SendData',
                     'eventLabel':'sendData',
                     'eventValue': id
                    });
            };
            $scope.signinLinkedIn = fun1;
            this.signinLinkedIn =fun1;
        });
        
        var id = 0;
        if(window.localStorage.getItem('counter-d')){
            id=Number(window.localStorage.getItem('counter-d'))+1;
          window.localStorage.setItem('counter-d',id)
        }else{
            id=1000;
            window.localStorage.setItem('counter-d', id);
            
        }
        
        ga('set','userId',id);
        ga('set','appName','testGA');
        
        angular.element(document).ready(function () {
            angular.bootstrap(document, ['jsbin']);
        });

    </script>
</body>
